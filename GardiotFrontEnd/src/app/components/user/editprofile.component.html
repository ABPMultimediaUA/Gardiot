<div class="container main-container">
  <h1>Mi perfil</h1>

<section class="container">
  <div class="row animated fadeIn fast">
    <div class="col-md-12">
      <form  (ngSubmit)="edit()" #forma="ngForm" novalidate="">
        <img src="{{user.photo}}" alt="Foto de perfil">
        <div class="form-group">
          <label  for="name_user">Nombre: </label>
          <input  type="text" [(ngModel)]="user.name" name="name" id="name" required>
        </div>
        <div class="form-group">
          <label  for="name_user">Apellidos: </label>
          <input  type="text" [(ngModel)]="user.lastName" name="lastName" id="lastName" required>
        </div>

        <div class="form-group" ng-init="listarPaises()">
            <label for="country">País:</label>
            <select2 [data]="data">

            </select2>
            <select2 id="country" name="countryCode" [data]="countries" [(ngModel)]="user.countryCode" (change)="listaCuidades(user.countryCode)">
              <option value=null>-- Selecciona un pais --</option>
              <option *ngFor="let country of countries[0]" value="{{country.countryCode}}">{{country.countryName}}</option>
            </select2>
        </div>

        <div class="form-group">
            <label for="city">Ciudad:</label>
            <select id="city" name="city" [(ngModel)]="user.city" *ngIf="user.countryCode!=null ">
              <option value=null>-- Selecciona una ciudad --</option>
              <option *ngFor="let city of cities[1]" value="{{city.toponymName}}">{{city.toponymName}}</option>
            </select>

        </div>

        <!--<div class="form-group">
          <label for="birthDate_user">Fecha de nacimiento: </label>
          <input [(ngModel)]="user.birthDate" type="date" name="birthDate" id="birthDate_user"  >
        </div>-->

        <h3>Cambiar contraseña</h3>
        <div class="form-group">
          <label for="oldPassword_user">Introduce tu contraseña actual</label>
          <input [(ngModel)]="user.oldPassword" type="password" name="oldPassword" id="oldPassword_user" >
        </div>
        <div class="form-group">
          <label for="password_user">Introduce tu nueva contraseña</label>
          <input [(ngModel)]="user.password" type="password" name="password" id="password_user" >
        </div>
        <div class="form-group">
          <label for="password2_user">Repite tu contraseña</label>
          <input [(ngModel)]="user.password2" type="password" name="password2" id="password2_user" >
        </div>



        <button type="submit" class="btn btn-outline-primary">Guardar cambios</button>
        <button [routerLink]="['/profile']" class="btn btn-outline-danger">Cancelar</button>
      </form>
    </div>
  </div>
</section>
</div>
