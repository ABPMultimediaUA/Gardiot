<div class="evolver">
  <div class="container main-container">
    <div class="wrap">
      <form (ngSubmit)="this.searchcontent(1,6)" class="form-row" #forma="ngForm">
        <article class="form-group col-md-4">
          <input type="text" [(ngModel)]="plant.commonName" class="form-control" name="commonName" placeholder="Buscar en gardiot">
        </article>
        <article class="form-group col-md-6">
          <button class="btn btn-outline-success search" type="submit"><i class="material-icons">search</i></button>
          <button data-toggle="collapse" data-target="#demo" class="btn btn-outline-info search"><i class="material-icons">filter_list</i></button>
        </article>
        <article class="form-group col-md-2">
          <button *ngIf="this.user.isAdmin" [routerLink]="['/newplant']" class="btn btn-outline-primary search"><i class="material-icons">add_circle</i></button>
        </article>
      </form>
      <section class="form-row">
        <div id="demo" class="collapse">
          <form (ngSubmit)="this.searchcontent(1,6)" class="form-row" #forma="ngForm">
            <div class="container filter">
              <div class="row">
                <div class="col-md-4">
                  <label for="family">Familia</label>
                </div>
                <div class="col-md-4">
                  <select2 id="family" class="campo" [width]="200" [data]="familyData | async" (valueChanged)="this.saveFamily($event)">
                  </select2>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label for="scientificName">Nombre Científico</label>
                </div>
                <div class="col-md-6">
                  <input type="text" [(ngModel)]="plant.scientificName" class="form-control" id="scientificName" name="scientificName" placeholder="Nombre científico">
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label for="initDatePlant">Inicio de plantación</label>
                </div>
                <div class="col-md-6">
                  <input type="date" [(ngModel)]="plant.initDatePlant" class="form-control " id="initDatePlant" name="initDatePlant">
                </div>

              </div>
              <div class="row">
                <div class="col-md-4">
                  <label for="finDatePlant">Fin de plantación</label>
                </div>
                <div class="col-md-6">
                  <input type="date" [(ngModel)]="plant.finDatePlant" class="form-control" id="finDatePlant" name="finDatePlant">
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label for="tipo">Tipo de hoja</label>
                </div>
                <div class="col-md-6">
                  <select [(ngModel)]="plant.leaveType" class="form-control" id="tipo" name="tipo" default="">
                  <option value="undefined">Todos</option>
                  <option value="caduca">Caduca</option>
                  <option value="perenne">Perenne</option>
                </select>
                </div>
              </div>
              <button class="btn btn-default" type="submit">Filtrar</button>
            </div>
          </form>
        </div>
      </section>
      <section class="card-columns">
        <article *ngFor="let plant of plants" class="card" style="width: 18rem;">
          <div class="view view-first">
            <img class="card-img-top" src="{{plant.photo}}" alt="planta" width="100px" height="200px">
            <div class="mask">
              <h2>{{plant.scientificName}} </h2>
              <p>{{plant.name}}</p>
              <a [routerLink]="['/plant', plant.id]" href="#" class="info">Ver más</a>
            </div>
          </div>
          <!-- <img class="card-img-top" src="{{plant.photo}}" alt="planta" width="100px" height="200px" [routerLink]="['/plant', plant.id]"> -->
          <section class="card-body">
            <h4>{{plant.commonName}} </h4>
              <p>
                <img class="iconplant" src="assets/images/icon/descargar.png" alt="Profundidad de siembra">{{plant.depth}} cm
                <img class="iconplant" src="assets/images/icon/separacion.png" alt="Separación de siembra">{{plant.distance}} cm
                <img class="iconplant" src="assets/images/icon/hielo.png" alt="Hielo">{{plant.diseaseResist}} º
              </p>

            <div class="form-row buttonAdmin">
              <div class="form-group col-md-4">
                <button *ngIf="this.user.isAdmin" [routerLink]="['/admin/newtreatmentsplants/',plant.id]" class="btn btn-outline-info"><i class="material-icons">assignment</i></button>
              </div>
              <div class="form-group col-md-4">
                <button *ngIf="this.user.isAdmin" [routerLink]="['/editplant/',plant.id]" class="btn btn-outline-primary"><i class="material-icons">mode_edit</i></button>
              </div>
              <div class="form-group col-md-4">
                <button *ngIf="this.user.isAdmin" class="btn btn-outline-danger" (click)="openDialog(plant.id,4)"><i class="material-icons">delete</i></button>
              </div>
            </div>
          </section>
        </article>
      </section>
      <p *ngIf="numeroItems==0">Esta busqueda no tiene resultados</p>
      <app-pagination [count]="this.numeroItems" [type]="1" [page]="this.paginaActual" [perPage]="this.elementosPorPagina" [pagesToShow]="3" [loading]="false" (onPrev)="prevPage()" (onNext)="nextPage()" (onPage)="goToPage($event)"></app-pagination>
    </div>
  </div>
</div>
