<div class="vistaAdmin">
  <div class="container main-container wrap">
    <h1>Consejos</h1>

    <form (ngSubmit)="this.searchcontent(1,6)" class="form-row" #forma="ngForm">
      <article class="form-group col-md-4">
        <input type="text" [(ngModel)]="feed.name" class="form-control" name="name" placeholder="Buscar en gardiot">
      </article>
      <article class="form-group col-md-4">
        <button class="btn btn-default" type="submit">Buscar</button>
        <a data-toggle="collapse" data-target="#demo" class="small">Busqueda avanzada</a>
      </article>
      <article class="form-group col-md-2">
        <button [routerLink]="['/admin/newfeed']" class="btn btn-outline-primary">Nuevo Consejo</button>
        
      </article>
    </form>


        <div id="demo" class="collapse">
          <form (ngSubmit)="this.searchcontent(1,6)" class="form-row" #forma="ngForm">
            <label for="content">Texto</label>
            <input type="text" [(ngModel)]="feed.text" class="form-control" id="content" name="content" placeholder="Contenido">

            <label for="inicio">Fecha inicio</label>
            <input type="date" [(ngModel)]="feed.dateInit" class="form-control" id="inicio" name="inicio" >

            <label for="fin">Fecha fin</label>
            <input type="date" [(ngModel)]="feed.dateFinal" class="form-control" id="fin" name="fin" >

            
          </form>
          
        </div>
      

    <table class="table table-hover" *ngIf="numeroItems!=0">
      <thead>
        <tr>
          <th scope="col">Nombre</th>
          <th scope="col">Texto</th>
          <th scope="col">Fecha Inicial</th>
          <th scope="col">Fecha Final</th>
          <th scope="col">Modificar</th>
          <th scope="col">Eliminar</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let feed of feeds">
          <th scope="row">{{feed.name}}</th>
          <td>{{feed.text}}</td>
          <td>{{feed.dateInit}}</td>
          <td>{{feed.dateFinal}}</td>
          <td><button class="btn btn-outline-primary" [routerLink]="['/admin/editfeed/',feed.id]">Modificar</button></td>
          <!-- <td><button  class="btn btn-outline-danger" (click)="delete(feed.id)" [routerLink]="['/admin/feeds']" [queryParams]="{pag: 1}" >Eliminar</button></td> -->
          <td><button class="btn btn-outline-danger" (click)="openDialog(feed.id,3)">Eliminar</button></td>
        </tr>
      </tbody>
    </table>
    <p *ngIf="numeroItems==0">Esta busqueda no tiene resultados</p>
    <app-pagination [count]="this.numeroItems" [type]="5" [page]="this.paginaActual" [perPage]="this.elementosPorPagina" [pagesToShow]="3" [loading]="false" (onPrev)="prevPage()" (onNext)="nextPage()" (onPage)="goToPage($event)"></app-pagination>
  </div>
</div>
